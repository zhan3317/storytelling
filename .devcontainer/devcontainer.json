
{
  "name": "Storyteller",
  "image": "mcr.microsoft.com/devcontainers/javascript-node:20",
  "remoteEnv": {
    "OPENAI_API_KEY": "${localEnv:OPENAI_API_KEY}"
  },
  "postCreateCommand": "npm ci --prefix client && npm run build --prefix client && npm ci --prefix server",
  "postStartCommand": "bash -lc 'nohup node server/index.js >/tmp/server.log 2>&1 &'",
  "forwardPorts": [8787],
  "portsAttributes": {
    "8787": {
      "label": "Storyteller",
      "protocol": "http",
      "onAutoForward": "openBrowser"
    }
  }
}
